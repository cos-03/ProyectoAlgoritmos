/*! For license information please see ithaka-pharos_14_18_1.991847c7529adde55635.js.LICENSE.txt */
"use strict";(self.webpackChunkmfe_query_builder=self.webpackChunkmfe_query_builder||[]).push([["vendors-_yarn___virtual___ithaka-pharos-virtual-963e58869a_0_cache_ithaka-pharos-npm-14_18_1--5f6d4e"],{1351:(e,t,s)=>{s.r(t),s.d(t,{PharosDropdownMenu:()=>PharosDropdownMenu});var n=s(6756),r=s(2778),i=s(5604),o=s(695),a=s(4274);const h=n.AH`
        :host{display:block;left:0;pointer-events:none;position:fixed;top:0;z-index:140}.dropdown-menu__list:focus-visible{outline:2px solid var(--pharos-color-focus);outline-offset:2px}@supports not selector(:focus-visible){.dropdown-menu__list:focus{outline:2px solid var(--pharos-color-focus);outline-offset:2px}}.dropdown-menu__list{background-color:var(--pharos-color-ui-10);border-radius:2px;box-shadow:var(--pharos-elevation-level-3);contain:layout;list-style-type:none;margin:0;opacity:0;padding-left:0;padding-inline-start:0;pointer-events:none;position:relative;transform:translateZ(0);transition:visibility 0s var(--pharos-transition-duration-short),opacity var(--pharos-transition-duration-short) linear;visibility:hidden}:host([open]) .dropdown-menu__list{opacity:1;pointer-events:auto;transition-delay:0s;visibility:visible}:host(:not([full-width])) .dropdown-menu__list{min-width:var(--pharos-dropdown-menu-size-width-min)}:host(:not([full-width])) ::slotted([data-pharos-component=PharosDropdownMenuItem]){max-width:var(--pharos-dropdown-menu-size-width-max)}
      `;var d=s(9162),c=s(6796),u=s(5851);const l=new Map;function p(e){return e.hasAttribute("hidden")||e.hasAttribute("aria-hidden")&&"false"!==e.getAttribute("aria-hidden")||"none"===e.style.display||"0"===e.style.opacity||"hidden"===e.style.visibility||"collapse"===e.style.visibility}function _(e){return"-1"!==e.getAttribute("tabindex")&&!p(e)&&!function(e){return e.hasAttribute("disabled")||e.hasAttribute("aria-disabled")&&"false"!==e.getAttribute("aria-disabled")}(e)&&(e.hasAttribute("tabindex")||(e instanceof HTMLAnchorElement||e instanceof HTMLAreaElement)&&e.hasAttribute("href")||e instanceof HTMLButtonElement||e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||e instanceof HTMLIFrameElement)}function g(e,t,s,n=20,r=0){let i=[];if(r>=n)return i;const o=e=>{const i=e.assignedNodes().filter((e=>1===e.nodeType));if(i.length>0){return g(i[0].parentElement,t,s,n,r+1)}return[]},a=Array.from(e.children||[]);for(const e of a)t(e)||(s(e)&&i.push(e),null!=e.shadowRoot?i.push(...g(e.shadowRoot,t,s,n,r+1)):"SLOT"===e.tagName?i.push(...o(e)):i.push(...g(e,t,s,n,r+1)));return i}const m=document.createElement("template");m.innerHTML='\n\t<div id="start"></div>\n\t<div id="backup"></div>\n\t<slot></slot>\n\t<div id="end"></div>\n';class v extends HTMLElement{constructor(){super(),this.debounceId=Math.random().toString(),this._focused=!1;const e=this.attachShadow({mode:"open"});e.appendChild(m.content.cloneNode(!0)),this.$backup=e.querySelector("#backup"),this.$start=e.querySelector("#start"),this.$end=e.querySelector("#end"),this.focusLastElement=this.focusLastElement.bind(this),this.focusFirstElement=this.focusFirstElement.bind(this),this.onFocusIn=this.onFocusIn.bind(this),this.onFocusOut=this.onFocusOut.bind(this)}static get observedAttributes(){return["inactive"]}get inactive(){return this.hasAttribute("inactive")}set inactive(e){e?this.setAttribute("inactive",""):this.removeAttribute("inactive")}get focused(){return this._focused}connectedCallback(){this.$start.addEventListener("focus",this.focusLastElement),this.$end.addEventListener("focus",this.focusFirstElement),this.addEventListener("focusin",this.onFocusIn),this.addEventListener("focusout",this.onFocusOut),this.render()}disconnectedCallback(){this.$start.removeEventListener("focus",this.focusLastElement),this.$end.removeEventListener("focus",this.focusFirstElement),this.removeEventListener("focusin",this.onFocusIn),this.removeEventListener("focusout",this.onFocusOut)}attributeChangedCallback(){this.render()}focusFirstElement(){this.trapFocus()}focusLastElement(){this.trapFocus(!0)}getFocusableElements(){return g(this,p,_)}trapFocus(e){if(this.inactive)return;let t=this.getFocusableElements();t.length>0?(e?t[t.length-1].focus():t[0].focus(),this.$backup.setAttribute("tabindex","-1")):(this.$backup.setAttribute("tabindex","0"),this.$backup.focus())}onFocusIn(){this.updateFocused(!0)}onFocusOut(){this.updateFocused(!1)}updateFocused(e){!function(e,t,s){const n=l.get(s);null!=n&&window.clearTimeout(n),l.set(s,window.setTimeout((()=>{e(),l.delete(s)}),t))}((()=>{this.focused!==e&&(this._focused=e,this.render())}),0,this.debounceId)}render(){this.$start.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.$end.setAttribute("tabindex",!this.focused||this.inactive?"-1":"0"),this.focused?this.setAttribute("focused",""):this.removeAttribute("focused")}}var f=s(4708);var b=function(e,t,s,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,s,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,s,o):r(t,s))||o);return i>3&&o&&Object.defineProperty(t,s,o),o};const y='[data-pharos-component="PharosDropdownMenuItem"]';class PharosDropdownMenu extends((0,c.A)((0,u.A)(d.h0))){constructor(){super(),this.showSelected=!1,this.fullWidth=!1,this.isOnBackground=!1,this._navMenu=!1,this._targetWidth=0,this._currentTrigger=null,this._hasHover=!1,this._moveFocusToLast=!1,this._enterByKey=!1,this._cleanup=void 0,this._observeResizeTrigger=null,this._resizeObserver=new ResizeObserver((e=>{const{offsetWidth:t}=e[0].target,s=parseInt(window.getComputedStyle(this._menu,null).getPropertyValue("border-left-width"),10),n=parseInt(window.getComputedStyle(this._menu,null).getPropertyValue("border-right-width"),10);this._targetWidth=t-(s+n)})),this.placement="bottom-end",this._handleClick=this._handleClick.bind(this),this._handleKeydown=this._handleKeydown.bind(this),this._handleTriggerClick=this._handleTriggerClick.bind(this),this._handleTriggerHover=this._handleTriggerHover.bind(this),this._handleTriggerKeydown=this._handleTriggerKeydown.bind(this)}static get styles(){return[h]}removeAllTriggers(){this._removeTriggerListeners()}async openWithTrigger(e){this._currentTrigger!==e&&(await new Promise((e=>setTimeout(e,100))),this.removeAllTriggers(),this._addTriggerElement(e),this._currentTrigger=e,this.open=!0)}firstUpdated(){this.addEventListener("click",this._handleMenuClick),this.addEventListener("keydown",this._handleMenuKeydown),this._addTriggerListeners()}update(e){super.update&&super.update(e)}_emitVisibilityChange(){const e={bubbles:!0,composed:!0};this.open?this.dispatchEvent(new CustomEvent("pharos-dropdown-menu-opened",e)):this.dispatchEvent(new CustomEvent("pharos-dropdown-menu-closed",e))}updated(e){e.has("open")&&(this._currentTrigger&&this._navMenu&&(this._currentTrigger.isActive=this.open),this.open&&this._setupMenu(),this._hasHover&&!this._enterByKey||(this.open?(0,o.A)((()=>{this._focusContents()}),1)():this._navMenu||this._returnTriggerFocus()),this.open||(this._currentTrigger=null,this._enterByKey=!1,this._resetItemsState(),this._cleanup&&this._cleanup()),this._setHoverListeners(),this._setupResizeObserver(),this._emitVisibilityChange()),super.updated(e)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),document.addEventListener("click",this._handleClick),document.addEventListener("keydown",this._handleKeydown),this._addTriggerListeners()}_removeTriggerListeners(){this._triggers.forEach((e=>{e.removeEventListener("click",this._handleTriggerClick),e.removeEventListener("keydown",this._handleTriggerKeydown),e.hasAttribute("data-dropdown-menu-hover")&&(e.removeEventListener("mouseenter",this._handleTriggerHover),e.removeEventListener("mouseleave",this._handleTriggerHover))})),this._triggers=[]}disconnectedCallback(){document.removeEventListener("click",this._handleClick),document.removeEventListener("keydown",this._handleKeydown),this._removeTriggerListeners(),super.disconnectedCallback&&super.disconnectedCallback()}_dropdownId(){return this.getAttribute("id")||""}_addTriggerListeners(){this._triggers=Array.prototype.slice.call(document.querySelectorAll(`[data-dropdown-menu-id="${this._dropdownId()}"]`)),this._triggers.forEach((e=>{this._setupTriggerElement(e)}))}_addTriggerElement(e){this._setupTriggerElement(e),this._triggers.push(e)}_setupTriggerElement(e){e.addEventListener("click",this._handleTriggerClick),e.addEventListener("keydown",this._handleTriggerKeydown),e.hasAttribute("data-dropdown-menu-hover")&&(e.addEventListener("mouseenter",this._handleTriggerHover),e.addEventListener("mouseleave",this._handleTriggerHover))}_setupMenu(){const e="auto"===this.placement?"bottom-start":this.placement;this._currentTrigger&&(this._cleanup=(0,f.ll)(this._currentTrigger,this,(()=>{this._currentTrigger&&this._menu&&((0,f.rD)(this._currentTrigger,this._menu,{placement:this._navMenu?"bottom-start":e,strategy:this.strategy,middleware:[(0,f.UU)({fallbackPlacements:this._filteredFallbackPlacements})]}).then((({x:e,y:t})=>{Object.assign(this._menu.style,{left:`${e}px`,top:`${t}px`})})),this.isOnBackground&&this._allMenuItems.forEach((e=>{e.isOnBackground=!0})))})))}async _handleTriggerClick(e){const t=e.currentTarget,s=this._currentTrigger&&this._currentTrigger!==t;this._currentTrigger=t,this._hasHover&&this.open||(s?(this.open=!1,await this.updateComplete,(0,o.A)((()=>{this._currentTrigger=t,this.open=!0}),150)()):this.open=!this.open)}_handleTriggerKeydown(e){switch(e.key){case"Enter":case" ":case"Spacebar":e.target?.hasAttribute("data-dropdown-menu-hover")&&(e.preventDefault(),this._openMenu(e));break;case"Down":case"ArrowDown":e.preventDefault(),this._openMenu(e);break;case"Up":case"ArrowUp":e.preventDefault(),this._moveFocusToLast=!0,this._openMenu(e)}}async _handleTriggerHover(e){if("mouseenter"===e.type){const t=this._currentTrigger&&this._currentTrigger!==e.target;this._currentTrigger=e.target,this._hasHover=!0,t&&(this.open=!1,await this.updateComplete,this._currentTrigger=e.target)}else"mouseleave"===e.type&&(this._hasHover=!1);(0,o.A)((()=>{this._setOpen()}),150)()}_handleKeydown(e){"Escape"!==e.key&&"Esc"!==e.key||!this.open||(e.stopPropagation(),this.open=!1,this._navMenu&&this._returnTriggerFocus())}_handleClick(e){const t=this._triggers.find((t=>t===e.target?.closest(t.tagName))),s=this===e.target?.closest('[data-pharos-component="PharosDropdownMenu"]');t||s||!this.open||(e.stopPropagation(),this.open=!1)}_setOpen(){this.open=this._hasHover}_handleHover(e){"mouseenter"===e.type?this._hasHover=!0:"mouseleave"===e.type&&(this._hasHover=!1),(0,o.A)((()=>{this._setOpen()}),150)()}async _focusContents(){this._moveFocusToLast?this._focusLastItem():this._focusFirstItem()}_focusFirstItem(){(this._activeMenuItems[0]||this).focus()}_focusLastItem(){const e=Array.prototype.slice.call(this._activeMenuItems);e.length?(e[e.length-1].focus(),this._moveFocusToLast=!1):this.focus()}_returnTriggerFocus(){this._currentTrigger&&"function"==typeof this._currentTrigger.focus&&this._currentTrigger.focus()}_handleMenuClick(e){const t=e.target?.closest(y);t&&this._handleItemClick(t)}_handleItemClick(e){const t=Array.prototype.slice.call(this._allMenuItems),s={bubbles:!0,composed:!0,detail:e};this.dispatchEvent(new CustomEvent("pharos-dropdown-menu-select",{...s,cancelable:!0}))&&(this.open=!1,this.dispatchEvent(new CustomEvent("pharos-dropdown-menu-selected",s)),(0,o.A)((()=>{t.forEach((t=>{t.selected=t===e}))}),150)())}_handleMenuKeydown(e){switch(e.key){case"Down":case"ArrowDown":e.preventDefault(),this._handleNavigation(!0);break;case"Up":case"ArrowUp":e.preventDefault(),this._handleNavigation(!1);break;case"Escape":case"Esc":e.preventDefault(),this._handleKeydown(e)}e.stopPropagation()}_handleNavigation(e){const t=this.ownerDocument.activeElement,s=Array.prototype.slice.call(this._activeMenuItems),n=((e,t,s)=>{let n=e.findIndex(t);return n=s?n:Math.max(n,0),r=n+(s?1:-1),i=e.length,(r%i+i)%i;var r,i})(s,(e=>e===t),e);s[n]?.focus()}_setupResizeObserver(){this.open&&this.fullWidth&&this._currentTrigger?(this._releaseObserver(),this._observeResizeTrigger=(0,a.A)(this._resizeObserver,this._currentTrigger)):this._releaseObserver()}_releaseObserver(){this._observeResizeTrigger&&(this._observeResizeTrigger=this._observeResizeTrigger.release())}_setHoverListeners(){this._currentTrigger?.hasAttribute("data-dropdown-menu-hover")&&this.open?(this.addEventListener("mouseenter",this._handleHover),this.addEventListener("mouseleave",this._handleHover)):(this.removeEventListener("mouseenter",this._handleHover),this.removeEventListener("mouseleave",this._handleHover))}_openMenu(e){this._enterByKey=!0,this._handleTriggerClick(e)}_resetItemsState(){const e=Array.prototype.slice.call(this._allMenuItems);(0,o.A)((()=>{e.forEach((e=>e._active=!1))}),150)()}_hasItems(){return this._allMenuItems.length>0}_handleSlotChange(){const e=Array.prototype.slice.call(this._allMenuItems);e.forEach(((t,s)=>{t._first=0===s,t._last=s===e.length-1}))}_renderSlot(){return n.qy`<slot @slotchange="${this._handleSlotChange}"></slot>`}_renderList(){return n.qy`<ul class="dropdown-menu__list" style="${(0,i.W)(this.fullWidth?{width:`${this._targetWidth}px`}:{})}" role="menu" tabindex="${this._hasItems()?"-1":"0"}">${this._hasItems()?this._renderSlot():n.qy`<li role="menuitem">${this._renderSlot()}</li>`}</ul>`}render(){return this._navMenu?n.qy`${this._renderList()}`:n.qy`<focus-trap>${this._renderList()}</focus-trap>`}}PharosDropdownMenu.elementDefinitions={"focus-trap":v},b([(0,r.MZ)({type:Boolean,reflect:!0,attribute:"show-selected"})],PharosDropdownMenu.prototype,"showSelected",void 0),b([(0,r.MZ)({type:Boolean,reflect:!0,attribute:"full-width"})],PharosDropdownMenu.prototype,"fullWidth",void 0),b([(0,r.MZ)({type:Boolean,reflect:!0,attribute:"is-on-background"})],PharosDropdownMenu.prototype,"isOnBackground",void 0),b([(0,r.wk)()],PharosDropdownMenu.prototype,"_navMenu",void 0),b([(0,r.P)(".dropdown-menu__list")],PharosDropdownMenu.prototype,"_menu",void 0),b([(0,r.KN)({selector:y})],PharosDropdownMenu.prototype,"_allMenuItems",void 0),b([(0,r.KN)({selector:`${y}:not([disabled])`})],PharosDropdownMenu.prototype,"_activeMenuItems",void 0),b([(0,r.wk)()],PharosDropdownMenu.prototype,"_targetWidth",void 0)},5159:(e,t,s)=>{s.d(t,{h:()=>r});const n=new WeakMap;function r(e){return t=>{if(function(e,t){let s=t;for(;s;){if(n.get(s)===e)return!0;s=Object.getPrototypeOf(s)}return!1}(e,t))return t;const s=e(t);return n.set(s,e),s}}},5851:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(5159);const r='\n  a[href],\n  area[href],\n  button:not([disabled]),\n  details,\n  iframe,\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  [contentEditable="true"],\n  [tabindex]:not([tabindex="-1"]),\n  [data-pharos-component="PharosCheckbox"]:not([disabled]),\n  [data-pharos-component="PharosRadioButton"]:not([disabled]),\n  [data-pharos-component="PharosTextInput"]:not([disabled]),\n  [data-pharos-component="PharosInputGroup"]:not([disabled]),\n  [data-pharos-component="PharosSelect"]:not([disabled]),\n  [data-pharos-component="PharosInputGroupSelect"]:not([disabled]),\n  [data-pharos-component="PharosTextarea"]:not([disabled]),\n  [data-pharos-component="PharosCombobox"]:not([disabled]),\n  [data-pharos-component="PharosAlert"],\n  [data-pharos-component="PharosDropdownMenuItem"]:not([disabled]),\n  [data-pharos-component="PharosLink"][href],\n  [data-pharos-component="PharosButton"]:not([disabled]),\n  [data-pharos-component="PharosTab"],\n  [data-pharos-component="PharosDropdownMenuNavLink"][href],\n  [data-pharos-component="PharosDropdownMenuNavCategory"],\n  [data-pharos-component="PharosSidenavLink"][href],\n  [data-pharos-component="PharosToast"],\n  [data-pharos-component="PharosBreadcrumbItem"][href]\n',i=(0,n.h)((e=>class extends e{focus(){const e=this.shadowRoot?.querySelector(r)||this.querySelector(r);e?.focus()}}))},6796:(e,t,s)=>{s.d(t,{A:()=>i});var n=s(4195);const r=(0,s(5159).h)((function(e){return class extends e{createRenderRoot(){const e=this.constructor,{registry:t,elementDefinitions:s,shadowRootOptions:r}=e;s&&!t&&(e.registry=new CustomElementRegistry,Object.entries(s).forEach((([t,s])=>e.registry.define(t,s))));const i=this.renderOptions.creationScope=this.attachShadow({...r,customElements:e.registry});return(0,n.Rf)(i,this.constructor.elementStyles),i}}})),i=r}}]);
//# sourceMappingURL=ithaka-pharos_14_18_1.991847c7529adde55635.js.map